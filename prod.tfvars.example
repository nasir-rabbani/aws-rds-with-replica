environment = "prod"

# Database Configuration
db_identifier = "infra-db"
engine        = "postgres"
engine_version = "15.4"
family        = "postgres15"
major_engine_version = "15"
instance_class = "db.t3.small" # Larger instance for production

# Storage Configuration
allocated_storage     = 100
max_allocated_storage = 500
storage_type         = "gp2"
storage_encrypted     = true

# Database Settings
db_name = "infradb"
username = "admin"
password = "ChangeMe123!" # Change this to a secure password
port     = 5432

# Replicas - Prod has 1 read replica
replicas = 1

# Network Configuration
vpc_id    = "vpc-xxxxxxxxx" # Replace with your VPC ID
vpc_cidr  = "10.0.0.0/16"   # Replace with your VPC CIDR
subnet_ids = [
  "subnet-xxxxxxxxx", # Replace with your subnet IDs (at least 2 in different AZs)
  "subnet-yyyyyyyyy"
]

create_db_subnet_group = true
publicly_accessible   = false

# Backup Configuration - Longer retention for production
backup_retention_period = 30
backup_window          = "03:00-04:00"
maintenance_window     = "sun:04:00-sun:05:00"

# Monitoring
enabled_cloudwatch_logs_exports = ["postgresql"]
monitoring_interval            = 60

# Tags
tags = {
  Project     = "Infrastructure"
  Environment = "Production"
  Team        = "DevOps"
}

# AWS Region
aws_region = "us-east-1"

